@namespace Test.Hr

@using Microsoft.Extensions.Caching.Memory
@using Library.Cqrs.Models.Queries
@using Library.Cqrs.Models.Commands
@using HanyCo.Infra.Security.Model
@using HanyCo.Infra.Blazor
@using Test.Hr

@inject IQueryProcessor _queryProcessor
@inject ICommandProcessor _commandProcessor
@inject IMemoryCache _memoryCache
@* @inject IUserContext _userContext *@

@inherits ComponentBase<List<PersonDto>, PersonViewModel>


<div class="row">
    <button name='NewButton' class='col-1 btn btn-success' type='formbutton' @onclick='NewButton_OnClick'>New</button>
</div>
<div class="row">
    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Date Of Birth</th>
                <th>Height</th>
                <th>Edit</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>
            @if (this.DataContext is not null)
                @foreach (var item in this.DataContext)
                {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.FirstName</td>
                        <td>@item.LastName</td>
                        <td>@item.DateOfBirth</td>
                        <td>@item.Height</td>
                        <td><button id="" name="" @onclick="@(() => Edit(item.Id))">Edit</button></td>
                        <td><button id="" name="" @onclick="@(() => Delete(item.Id))">Delete</button></td>

                    </tr>
                }
        </tbody>
    </table>

</div>
